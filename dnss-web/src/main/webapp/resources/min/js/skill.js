function Skill(a){this.id=a.id;this.nameid=a.nameid;this.level=a.level;this.advancement=a.advancement;this.required_level=a.required_level;this.mpcost=a.mpcost;this.cd=a.cd;this.explanationid=a.explanationid;this.explanationparams=a.explanationparams;this.spcost=a.spcost;this.requires=a.requires;this.need_sp=a.need_sp;this.total_sp_cost=0;this.next=null;this.prev=null;this.max=null;this.start=null;this.end=null;this.get_spcost=function(){return this.required_level<=dnss.max_levels[this.advancement]?this.spcost:0};this.get_type=function(){return dnss.types.skills[a.type]};this.get_required_weapons=function(){var c=[];for(var b=0;b<a.needweapon.length;b++){c.push(dnss.types.weapons[a.needweapon[b]])}return c};this.get_image_link=function(){return"/images/skillicon"+a.image+".png"};this.get_icon_coordinates=function(){var b=(a.icon%10)*-50;var c=Math.floor(a.icon/10)*-50;return{x:b,y:c}};this.bind=function(b){b.css("background-image",fmt("url($0)",this.get_image_link()));b.css("background-position",fmt("${x}px ${y}px",this.get_icon_coordinates()));b.find(".lvl").text(fmt("$0/$1",this.level,this.max.level));b.data("skill",this);dnss.positions[b.data("position")]=this;dnss.current[this.id]=this;dnss.build[b.data("position")]=build_map[this.level-(this.start.level==1)]}};